<!--
layout: default
-->
<h1>Block: {{ name }} &rarr; innards</h1>
<style type="text/css">
    text {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    }
    .block-square {
        stroke: black;
        fill: white;
        filter: drop-shadow(0 3px 5px rgba(0,0,0,0.3));
        transition: filter 0.3s;
    }
    .block-square:hover {
        filter: drop-shadow(0 2px 3px rgba(0,0,0,0.5));
    }
    .dot {
        stroke: black;
        fill: black;
    }
    .block-input-dot.external-dot, .block-output-dot.dot-on-box {
        fill: white;
    }
    path {
        stroke: black;
    }
    path.connector {
        fill: transparent;
    }
    .block, .input-editable, .output-block {
        cursor: pointer;
    }
    .input-editable-text, .output-block-text {
        font-size: 0.8em;
        /*transform: translate(4px, 15px);*/
    }
    .input-editable-rect {
        fill: white;
        stroke: black;
    }
    .output-block-rect {
        stroke: black;
        stroke-dasharray: 5;
        fill: transparent;
    }
    .block-label {
        /*transform: translate(4px, 25px);*/
    }
    .text-field-label {
        font-size: 0.65em;
        font-weight: bold;
        text-transform: uppercase;
    }
</style>
<svg width="1000px" height="600px" id="renderspace" xmlns="http://www.w3.org/2000/svg"></svg>

<!-- modals -->
<style type="text/css">
    .modal {
        display: none;
        position: fixed;
        top: calc(50% - 140px);
        left: calc(50% - 300px);
        right: calc(50% - 300px);
        bottom: calc(50% - 140px);
        z-index: 100;
        background: white;
        padding: 15px;
        font-size: 0.9em;
    }
    .modal-close:after {
        content: '[close]';
    }
    .modal-close {
        color: rgba(0,0,0,0.7);
        float: right;
        padding: 8px;
        cursor: pointer;
    }
    .modal-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.2);
        filter: blur(10px);
    }
    .modal input {
        width: 400px;
    }
    .modal label {
        display: block;
    }
</style>
<div class="modal-container"></div>

<script>
    let block = cryptoflow.blocks["{{ id }}"];
    let svg = document.querySelector("#renderspace");
    let modalspace = document.querySelector(".modal-container");
    block.renderInnards(svg, modalspace);
</script>
